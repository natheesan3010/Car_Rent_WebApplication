@{
    ViewBag.Title = "Admin Dashboard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="container my-5">

    <!-- Title -->
    <h2 class="text-center text-uppercase fw-bold mb-4 text-primary">Admin Dashboard</h2>
    <hr class="mb-5 border-primary" />

    <!-- Quick Stats Cards -->
    <div class="row g-4 mb-5">
        <div class="col-6 col-md-3">
            <div class="card stats-card shadow-lg border-0 bg-primary text-white h-100">
                <div class="card-body text-center">
                    <i class="bi bi-people fs-1 mb-3"></i>
                    <h6 class="text-uppercase">Customers</h6>
                    <h3 class="fw-bold">@ViewBag.TotalCustomers </h3>
                </div>
            </div>
        </div>
        <div class="col-6 col-md-3">
            <div class="card stats-card shadow-lg border-0 bg-success text-white h-100">
                <div class="card-body text-center">
                    <i class="bi bi-car-front fs-1 mb-3"></i>
                    <h6 class="text-uppercase">Cars</h6>
                    <h3 class="fw-bold">@ViewBag.TotalCars </h3>
                </div>
            </div>
        </div>
        <div class="col-6 col-md-3">
            <div class="card stats-card shadow-lg border-0 bg-warning text-dark h-100">
                <div class="card-body text-center">
                    <i class="bi bi-journal-text fs-1 mb-3"></i>
                    <h6 class="text-uppercase">Bookings</h6>
                    <h3 class="fw-bold">@ViewBag.TotalBookings </h3>
                </div>
            </div>
        </div>
        <div class="col-6 col-md-3">
            <div class="card stats-card shadow-lg border-0 bg-danger text-white h-100">
                <div class="card-body text-center">
                    <i class="bi bi-clock-history fs-1 mb-3"></i>
                    <h6 class="text-uppercase">Pending</h6>
                    <h3 class="fw-bold">@ViewBag.PendingBookings </h3>
                </div>
            </div>
        </div>
        <!-- Revenue Card -->
        <div class="col-12 col-md-3 mt-4">
            <div class="card stats-card shadow-lg border-0 bg-info text-white h-100">
                <div class="card-body text-center">
                    <i class="bi bi-currency-dollar fs-1 mb-3"></i>
                    <h6 class="text-uppercase">Revenue</h6>
                    <h3 class="fw-bold">LKR @ViewBag.TotalRevenue </h3>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Action Buttons -->
    <div class="row text-center mb-5 g-3">
        <div class="col-12 col-md-4">
            <a asp-controller="Admin" asp-action="ManageCustomers"
               class="btn btn-outline-primary btn-lg w-100 shadow-sm d-flex align-items-center justify-content-center gap-2">
                <i class="bi bi-people-fill fs-5"></i> Manage Customers
            </a>
        </div>
        <div class="col-12 col-md-4">
            <a asp-controller="Admin" asp-action="ManageCars"
               class="btn btn-outline-success btn-lg w-100 shadow-sm d-flex align-items-center justify-content-center gap-2">
                <i class="bi bi-car-front-fill fs-5"></i> Manage Cars
            </a>
        </div>
        <div class="col-12 col-md-4">
            <a asp-controller="Admin" asp-action="ManageBookings"
               class="btn btn-outline-warning btn-lg w-100 shadow-sm d-flex align-items-center justify-content-center gap-2">
                <i class="bi bi-journal-check fs-5"></i> Manage Bookings
            </a>
        </div>
    </div>

    <!-- Revenue Chart -->
    <div class="card shadow-sm mb-5">
        <div class="card-body">
            <h5 class="card-title text-center mb-4">Revenue Overview</h5>
            <canvas id="revenueChart" height="100"></canvas>
        </div>
    </div>

</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // Quick Stats Cards Animation
        document.addEventListener('DOMContentLoaded', function () {
            const cards = document.querySelectorAll('.stats-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('show');
                }, index * 200);
            });

            // Chart.js
            const ctx = document.getElementById('revenueChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Revenue (LKR)',
                        data: [1200, 1500, 1800, 2000, 2500, 3000, 2800, 3200, 3500, 4000, 4200, @ViewBag.TotalRevenue ?? 0],
                        backgroundColor: 'rgba(0, 123, 255, 0.6)',
                        borderColor: 'rgba(0, 123, 255, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        });
    </script>

   @*  <style>
        /* Stats Cards Animation CSS */
        .card.stats-card {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

            .card.stats-card.show {
                opacity: 1;
                transform: translateY(0);
            }
    </style> *@
}
